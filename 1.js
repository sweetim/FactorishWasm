(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(A,e,t){"use strict";t.r(e);var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTFH80I3AAABPklEQVRIS62TvQrCQBCEfSDBH7AQtLK3sLPTQtBO9B3y3K5M2Iy7t5fLefARwt5mZn8us/dxUU332CrmSPnLoITB4LSf6zsTxQtp3IEf2mDAUUXKb98BRMt1k5UpvUEmw5NXNIQ7MBKTRJneIDOQ0YlddivBBJWwgzp8KZUGqFrhI2uQbB/jxtwNEveiSaD87QBv3qYatv8ZUeSBkk3ht0OfrJ0xmpnegdESICdPhhMimt2iaENFI2K6+waYOHRN34I1UI/oA4HVkzms02xEEfUGr/NSMEF/nUIDLI3hU4xFPZI5oDcovHNKtB7PYDDVo5CRHfB9EFCHlu/LQoSD9UsuZDBQW1PCnyQMwPO65vckmiCgLF/ZLLpe5nsm8mCgKU+7g6iQUSKzZkuOGho3KOkm0/S0DvBbmJ8jx3HxAbs6vYxUC0tFAAAAAElFTkSuQmCC",r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AAAJbSURBVHhe7ZhdTsMwEIR7ZI6AOACPPPOAuAKvHICTcInAIE212ozxT+zEiY300XS8u1PvumnV27Isk875/cO/FT6uBClO+gGDfvv8/uPx5eN+DWocBilO+oEH4Pn96459jmscjNJDIMVJH3D4GLA9ABw8D8I8ABeEw+eQQ2D48wAI0BDi1/aghj9yeQcgdujk4el15YPnxOoeKZ4dbJrvHhBrQm1q+SOPA45hPXCd6i9FgkTi1/agxB+x2LS9TfoGpYIc4tdCILaFP7DD9ticHP+VQFiIxUIFWlHizxxu2jbMx8ZgrZ78iY8lzMnx16IpFPqMackWf8R5fEwM5IziL0WQU6QF038ffylOxkGKkzJav1tjlPhLcUTYPIuPCcF4fG6D3HzAHIuPCcH4En8pjohtoG2kj/OoPIK1lBpA1UnJVXkEa7EaUhwNNpHfunO+eTOX+ayBRzsIn2dhjSP8pTgaaJBtfGnzWSN3kFi38Xv6S3FE0CSLX1cgzjcfDedj7jAtfl2BuK3+UuwVbOS/zbTG++MazQe24bbxNn4rvh6ut/pLsUewEd7uYptqQcgf1yEYUwPUa+Evxd7AZrBxnvTUzdXiyv5S7ImWm0/h6v5S7A1smvi1PbiyvxQnx2AH7fGxtZBiDVq+6BTO5o943OpDlNTzmkKKW+Fmcl90Lc7mz3iCz3sL9dx6KfFS3AqM+WNEyouozdn8EaMGjxp8zD0Aqf5SrAGMY+YtOZs/YnkI7OBJzgEAiE2Jl+LkGDAwvGsVKcMsQYqT48CgFT6uFlKcjIMUJ6Ow3H4AbhulNtiGUawAAAAASUVORK5CYII=",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4xMK0KCsAAAAJXSURBVHhe7ZjRahsxEEXzXw3koRQCIdCn0od+iP++yQncMCh3vZJWirWWAgevr2bmWjPatcnD5XJZDM7733+Hiy3FiotxYNB///z74NfP589raHEYrLgYBx2A15ffn8T3XHMwag+BFRdjoOEz4HgANHgdhHUA7hANX0PeguGvA2CgIcKt96aFP7l6Aog4dPH44+mLD+9F1FOseHbYtO4e2GtCa1r5k6cB7xE9uM71t6IgUbj13tT4E8um42MybVAu5Ai37iC2hz/EYafEnBL/L4JQIRXbKtCLGn/laNOxYS7+Gqo1kr9w8aCcEn8vhkJb3zE9OeJPXIqLuwY5s/hbEUqK9GD5f4+/FRfzYMVFHb3v1j1q/K04I2pexMU5FM/3NpTmg3IiLs6h+Bp/K85IbGBspIuNuDzBWk4NcHVycl2eYG2vhhVnQ03Ur+6SX97KVb5q8BoH4XKFatzC34qzQYNi42ubrxqlg2Q9xn+nvxVnhCZFXEwKcWnzabheS4cZcTEpxB31t+KosJFrm+lN6s81zYfY8Nj4GH+UtB7XR/2tOCJsRI+7vU31YMuf6y1i/lGo18PfiqPBZti4Tnru5lpxz/5WHImem8/h3v2tOBpsWrj13tyzvxUXtyEOOsXFt8CKLej5oXM4mz/xPOq3qKnn9BQrHkWbKf3QrTibv+IF3/cR6aX1cuKteBSM9c+InA/RmrP5E+MGTw29lh6AXH8rtgDjPfOenM2fWB2COHhRcgCA2Jx4Ky5uAwPjrnXkDLMGKy5uB4N2uNgWWHExD1ZczMLl4Q291qSH/DwvNAAAAABJRU5ErkJggg==",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC45bDN+TgAAAmdJREFUeF7tmEFSwzAMRXs+1my5AQfhCCzYsuQYXCHXgXyNZYT7k9iO3TixmXlT90fSryUn7XCbpmnQOPPfD4PFpkLFQTvIoD9ehe/3Z78GJQ4DFQft4A/A58sf9v28xsHIPQRUHLSBDl/ufHsA3OD1IIwDcEF0+DrkJTD8cQAIaIjCrtemhL/kuieAYoeufL093fngvWL1ECqeHdm03j0zW00oTSl/5OmAt7Aeso70p6KCRIVdr02Ov8Ri4+YxGTYoFuQo7DpDYiv4AzvsEJuT4n8nKL6QK7ZUoBY5/j7Hbdo2jMWv4Ws15K+weOBzEvy5aAotfcfUZI8/4kJY3BqS04k/FUFKkRoM/8f4U3HQD1Qc5FH7bt0ix5+KPaLNs7A4ho/H9/ZMaj7QHAuLY/j4DH8q9ohtoG0ki7WwPAXXYmoAVicml+UpuLZVg4q94ZvofnWn/PL2uS5fa8jaDILlKr7GAf5U7A00yDY+t/laI3WQuG7jH+lPxR5BkywsJkTiguaj4fqaOkwLiwmRuJ3+VGwVbGRtM7UJ/WU9Nx/YhtvG2/i9hPVkvdOfii0iG3GPu61N1WDJH+slbP5epF4Ffyq2hmwGm3cnPXZzpbiyPxVboubmY7i6PxVbA5tW2PXaXNmfioNjsIMOYfEloGIJan7oGM7mL/F41C+QVY/oIVTci24m9UOX4mz+Gu+Zv+//4fTUejHxVNwLjPWfETEfojRn85cYMnjU8K+JByDWn4olgPGWeU3O5i+x7hDYwSspBwAgNiaeioNjwMBw1zJihpkDFQfHgUEzWGwJqDjoByoOemG6/QL2i8ahfRCfSAAAAABJRU5ErkJggg==",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC42/Ixj3wAAAJZJREFUSEvtltENgCAMBbsBszihjOk2WrVB0eJrk5L4wX1VcuXiHxRCSmnS4HOaD1g6BwuqnDX4nGTMmddkMmCXK69H4ymFNxQjtjECIwCJCaxL8xYoWwOtBpQdAbUBZd9OWStA2ReQ7xuRfyAfNVC2BmR6AWVT4AMoj8AIQP4XiL2dqYzw25lL6nE743787juux29fiDZN+1UE6JSblwAAAABJRU5ErkJggg==",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AAADXSURBVFhH7ZDRDcIwDES7HgOwA8yAxBSIIfhnBOZhhCB/WLq4F5HYwRWCj6e2J/nuqUspZVNomAkNM6FhJjTMhIaZ0NByvtzL7fF0YbssNER0fLc/uJB724nQEEEBeR9B7uQpt7ZXoaGCRb8nYIuiAi2JVaCwMg/TBLRklCkCx9PVDcrYDWEVCDgeFRBCAqyoF3Znt6oPpSUQoVsAx/8CrGAUdo971bjQEpjBdwmwgihuAT30YrtwrxoXPvkHhC4BdjiLtwLsaDa4V41vAQ0zoWEmNMyjLC/xkAmstzS2+gAAAABJRU5ErkJggg==",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AAAFDSURBVFhH3ZFBbgJBDAT5dF6AlHsOkfgAl7whf5vISIV6Gw82aICIQ0m7dtlult0Y46WkxWeSFjscfn+G4v0uabGCo5/H7xMfX/sT7nXYvOgv6uABMidDb04DsDQDxwNUsFdvXgRADLSn0PcA7gF+0AoADKmDF1QB8HSfexcDKuhgQJ33WQD6WV3fg/NDkAkBi1gMHgCHZ99DT2uloLD4WoDA5+DuABwEDs2+gM8Ds1orBep6GGZfgHq2J/pauyr4Ya1T0wD0eWeeOnO8B+eHAIFBFqmDp/2ZRx2fGXU2A75UewrL/C9wD+iXAVR8FK0Aj0ZvbgJkCWf40s5c+QW6AfQouJOxLECAq7jjvN8XwO+GWBZAj94a2t1SmBEuPrjjLAugR28N7W4pzAgXH9xxlgbQw92ZpQHu4f8HeAVp8XmM3R+ldpSPo5/+ywAAAABJRU5ErkJggg==",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAgCAMAAADaHo1mAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAnUExURQAAAPK8e9Oka6+JWZ57UMGXYpl3Tv+LUaA4BP9VANtNBuWQVwAAAIF+czYAAAANdFJOU////////////////wA96CKGAAAACXBIWXMAAA7CAAAOwgEVKEqAAAABUElEQVRIS+2SwZaDIAxFKUgB9f+/dxJIIFHoqHR2c+3qXZoXPJr9j/kv+JVa8NJQ2qCcobRBOUPpuMBSXKGcuey5gHLGOsoZypnrvltgrXULCYJM4Y6nAs4Zv+gVn/tWQArx3rlFrfjcl4LivQBOZFOY8FygNaBWnPC5ABegvLKIFWe8LHi/2w9XyAeQGY8F6HsHeMKU5wJIDugBFAouenkDhfgQp3wpOHs9YMKLAiOBE8cBZAqX/bDgvCHGwZgYxz7Bk3XzUEC+s0GZoHxM0AH0fUro8UT1NwvSuqWgBmgfzAZLSD8swCueBgQTQ1zHPib0eQH2pQD9p4Lqt5BCwoa+hwWO/l5BWuElb/kVdH3EBu2xoNxwXCD9Kr+Srs9vsFugOQ/QXPWDAgfQ/yc9FOzWYZTDBvTTgDmPBTsGHhMNqsyMzwUVIbo88Lrg6+z7D2zhUM0wO9U6AAAAAElFTkSuQmCC",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAMAAACVQ462AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAtUExURQAAANvglLnDIM/bJa+5Ho6WGbzHIau1HnF3FJylHF9jEG1yE0lMDZeeGgAAAN3/RdMAAAAPdFJOU///////////////////ANTcmKEAAAAJcEhZcwAADsIAAA7CARUoSoAAAAE6SURBVEhLxZQLcsMgDAWLkHDSpr7/cfskAQbqFJzptDuT2LLz1nzkvO0LhHB8j6wIQiA7RDsMLAk8+QsCtrJnQRBiEZwZ/kgQA8DhRYEIskCkCNSXd9UETPTN3V3Tp0fJBWhqExCG2CuYMORUL2EfqBfU2keQMMvkim3TCzbjY98RCIOg1L4GTFDEZDMjYPFsVKYCH0SF8GniawJ7aIGa+StzgU9aHJwl1qWozAWev93u+nwYrgs09/6RDZiDbUZlbQTyyAac0/bpN5y5wDZBHlDc1YUBXBSgGRVrBM9fFbR9YPlXBdqHlr+4iGNeml+DqYCT7aO4QJuJuW1FsgbLBWhqE5T8AXMcXvBnqGDDeGKCMacVTCmEvh3PcYHFO+wFp0XBzmNcOfufO8EX8ZT+dXjGD4I1/luw719zvlaQ3eGc2AAAAABJRU5ErkJggg==",g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAQCAYAAAArij59AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AAABLSURBVChTY/j//z9WnFsk/B+EcUp+AzKxKoBJYlWALImhAF0SRQE2SbgCXJIgTC8FBB1JlDdxKcJQgK4IqwJkRTgVgDBIMrdI+D8AABJbKjDxriEAAAAASUVORK5CYII=",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AAAC5SURBVDhPpZHBCQIxEEX3oB5FRC9WaQliAR4970FswasFWIlNjL7Ah8lPFhUXHruZ5P2ZsENE/EW3+AvdYmY2X8RytSnw7fvVQmRpvd3F5f6M0/VR1n62WkiUJJB5fwzggIsZgv0aVQCbHuBBPkU3oCfC4XxrpqgCSHcZyd95iiZAsgTBen8cC92A91PGcymLMHkFAuiuzi4j0nnyL7ApOOyd89iZpgB0UZC6e2fRFDIKmpKhW/yeGF6k6adXwsvG3wAAAABJRU5ErkJggg==",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4xMK0KCsAAAACySURBVDhPpZFBCsIwEEVLN9VeScGFCIIIrsSFB8ntoy/wYfKToGLh0WaS92dCp5TSX3SLv9AtRuZ5zsuyKfDt+9VCRGndrvlxf+br5VbWfrZaSJQkkHl/DOCAixGC/RpVAJse4EE+RTegJ8LpeG6mqAJIdxnJ33GKJkCyBMF6vzsUugHvp4znUhRheAUC6K7OLiPSefgX2BQc9s5x7EhTALooSN29s2gKEQWNZOgWvydNL2TXeRhD//+JAAAAAElFTkSuQmCC",B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC45bDN+TgAAAL9JREFUOE+lkbENAjEQBF9CSEiIiAASGiImpQMKoYQPSAkpgxauHfN7sOi8PgsQL438d/bunv8HM/uLtPkLaTOymM/Kdr108K77VUGiaLdZFbucil2PXuvZqqDwLSKTGOtHAz+gwgCM9RqVgW+qgRjpFLlBIgT38dBMURm4u4gh0jVO0Rq8xBQQ1Lfz3kkNpuf59UUUhaB7BRggnckqhhDJ3b+ATYLDmhzHjjQNgBQaMV2TSdOI0KgnBmnze2x4ANQ7VYo31GzIAAAAAElFTkSuQmCC",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AAACbSURBVDhPpZAxDsIwDEUzhBG1ogNn5AwsPUVuwcwduBCjy0dyapsPisXwpOTH7ydtEZG/oGEGGmagoaXWgxyn0xus47nbWFRc290Riz5EvS2KEZSUl+7EeTnTYcbl2vaCkRstkPUzesHt8aTDESv3AlvyrQhilEFfABzG16iIPMrAbRQMogQifiwTFRoCfc0vGdAwAw0z0HAcKRtl/7eM7S4dpAAAAABJRU5ErkJggg==",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC45bDN+TgAAAJ9JREFUOE+lkMENwjAMRS2hXOBSqVyYqAt0k567B1Jv7MIKXqfwK7nY5hcl4vCk5sfvJ6mo6l/QsAUatkBDTymn9dqdN/Cd98PCY+LzPgZy0Zdop2UxgxIRWYN46y90mPGYh09BzYkeyPaMvUCXiQ5nvLwX+JKjIohZDgUAm/k2JiLPMggLYxt8l0DEj2WiQUNgt/klAxq2QMMWaFiPygsC1WCH0BvXcwAAAABJRU5ErkJggg==",C=t(2);!async function(){let A=[["dirt",n],["iron",r],["coal",o],["copper",i],["transport",u],["chest",l],["mine",a],["furnace",s],["inserter",c],["direction",g],["ore",d],["coalOre",f],["ironPlate",h],["copperOre",B],["copperPlate",p]].map(async([A,e])=>{const t=await fetch(e);return[A,await createImageBitmap(await t.blob())]}),e=new C.a(W);const t=document.getElementById("canvas"),v=t.getBoundingClientRect(),E=t.getContext("2d"),w=document.getElementById("container2"),U=w.getBoundingClientRect(),m=document.getElementById("inventory2"),y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor="#ffff7f",y.style.border="1px solid #00f",w.appendChild(y);var R=null;const Q=(I=window.navigator.userAgent,S=I.indexOf("MSIE "),D=I.indexOf("Trident/"),S>0||D>0?"Text":"text/plain");var I,S,D;const Y=document.createElement("div");Y.style.position="absolute",Y.style.border="1px solid #000",Y.onclick=function(A){var e=this.getBoundingClientRect();scrollPos[0]=Math.min(xsize-viewPortWidth-1,Math.max(0,Math.floor((A.clientX-e.left)/e.width*xsize-viewPortWidth/2))),scrollPos[1]=Math.min(ysize-viewPortHeight-1,Math.max(0,Math.floor((A.clientY-e.top)/e.height*ysize-viewPortHeight/2))),updateAllTiles()},w.appendChild(Y),Y.style.width="200px",Y.style.height="200px",Y.style.left=v.right-U.left+10+"px",Y.style.top=v.top-U.top+"px";const F=Y.getBoundingClientRect();y.style.left=v.right+10+"px",y.style.top=F.bottom-U.top+10+"px",y.style.width="200px",y.style.height=v.height-F.height-10+"px",y.style.textAlign="left";var b,x=e.tool_defs(),N=[],G=[],O=document.createElement("div");O.style.borderStyle="solid",O.style.borderWidth="1px",O.style.borderColor="red",O.style.position="relative",O.margin="3px",O.style.left="50%",O.style.width=32*(x.length+1)+8+"px",O.style.height="40px",w.appendChild(O);for(var V=[],J=0;J<x.length;J++){var L=document.createElement("span");L.style.position="absolute",L.style.display="inline-block",L.style.width="31px",L.style.height="31px",L.style.top="4px",L.style.left=32*J+4+"px",L.style.border="1px black solid";var M=document.createElement("div");G.push(M),M.setAttribute("class","overlay noselect"),M.innerHTML="0";var K=document.createElement("canvas");N.push(K),K.width=32,K.height=32,K.style.left="0px",K.style.top="0px",K.style.width="31px",K.style.height="31px",K.style.position="absolute",K.style.textAlign="center",K.onmousedown=function(A){var t=N.indexOf(this),n=e.select_tool(t);b||((b=document.createElement("div")).style.border="2px blue solid",b.style.pointerEvents="none",O.appendChild(b)),b.style.position="absolute",b.style.top="4px",b.style.left=32*t+4+"px",b.style.width="30px",b.style.height="30px",b.style.display=n?"block":"none"},K.onmouseenter=function(A){var e=N.indexOf(this);if(!(e<0||x.length<=e))x[e]},K.onmouseleave=function(A){},L.appendChild(K),V.push(K),L.appendChild(M),O.appendChild(L)}var T=document.createElement("div");T.style.width="31px",T.style.height="31px",T.style.position="relative",T.style.top="4px",T.style.left=32*J+4+"px",T.style.border="1px blue solid",T.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARhSURBVFiF7ZVdiFRlGMd/73vmfMyeszOzM7ofprvrEqamruRXaqB9kApFdFFZURCpfbAoJnSThRTRRSwKe1FBEkLIBtpNF1Z6oZBCbaEWihdRrh+7o6bozsw6Z+ac83YxOzk7zbo7OxZd9Ifn5vA8z///Pu/7/A/Uhk5gRY09asIOTQrf1OVrk20ga1Xw3LIG2RwJfeiY8iNA+zcEhCiM/XlgSUfc4ORb99iLWsMvRsLaYSBaTTNRRe7CWFh7O+sFa9obDH9Oi0VrTA+/tDSud95l4QeKLV8Ounv6rl1Ku8HDwK93SsDUqKl9LAVr33l0qvXMgphsiYTGTP7k+2vBtq+S6UwueAToG6/52J0KmG/r8uDLi6MN7z7caNjGyI3lgrErPAVqPNpbuN0E5tfp4tjux1vs9fMio/KSaY8j/cMMpDwemmnT2WTiK9hyIOnu+XnoUjo38SsYawJTbV0e/HRdk71+liOKJ/4pmWXroSvpvmRW2IY8ev2mH9++MrG4va6BJ/ZdzBy/nDuezgWPATcmQj4moqbYv21RzFVv3K2K0b1qSt7R5XVNYxOgj6TueGFuvWqLhtKOPrk1rISFDabMpF5pV6qrQ6muDtX9QCJfb8jfgBlluTs0ga9L+eqdIAYgZoj9O++P+2pju1Ib29WPT05TdkhcB1orpNdsxeVvQM/6rHl6RlgW733r0avprFJvAucq1J+shbySgKVttuZNCwnIBSSzPn1Xc9L3+axWorFQbsVtc51Q4fS5gCMDWewQ3wH5f0pA+QRa2izNIldwkgspn2Ffnamhfyewtuzb15Rc3d99IFC3nM5XCFXV/2IU6jQ2rIwZXfdFClv7zR+ufyLl5W8nYLA/7WXJBTrA9JAgLMXsYb8Kby1BWIg5G5stnmo0ATiTymdOpBgozSkXcPb0sB/gFiawuk4j47OSgvFU+w6MTMCKVXUaxX6nM74CzpYmlT/CH/qzgTaQ8SAX0KRgma0FumRDleTokk3Lbc1vVEAu4GLa47wbaJT9IcsFeJbg2y8uu0FxE3Y2W46B+ABoq4K/3UC8v6vFcop9eq+4gSnEAcAfr7gzJkUmNctRana9UrPr1c5G06uXnJ2giJmOpL+nyfKK9UOzHBWVIgPMn5D8qGDf1qjuqg5bFWNXwvBswQ0dXgeMCmWGDl22YKgnYXiltZsjITci6Z0Q+Qim2ILBvXEjUNPDqhjHm0y12pQpS5BJaOJgGHrC0JPQxCFLMPygKVMnmkxVWvN53AgcwSCQqER0ux2fFxYc212vO89aclTe5UBxOK+4OLKe0zXBKl3QODqNvdlAbUjl0zcVy4FT1UzgLxG2YHCLId1URFcqOrEYiuhqsyFdRzAA3DsZ4lJMcaA3CuluXfoXLE2pcOW4YGmqW5dBTDAchV4gPl7zamx2QRS2u7CuFYK5AlohDHAObp5ScB6kCQduwHvALxNpOhmf14AlwEygeeRbEvidgsmMu+f/4z+FPwFjxMAMaz48rAAAAABJRU5ErkJggg==",T.onmousedown=function(A){!function(){e.rotate_tool();H()}()},O.appendChild(T),O.style.marginLeft=-(O.getBoundingClientRect().width+200+10)/2+"px";try{const n=await Promise.all(A);e.render_init(t,y,n)}catch(A){alert("FactorishState.render_init failed: "+A)}function H(){for(var A=0;A<V.length;A++){var t=V[A].getContext("2d");e.render_tool(A,t)}}function P(){for(var A=e.tool_inventory(),t=0;t<A.length;t++)G[t].innerHTML=A[t]}function W(A){j(tA,e,!1,A)}function k(A){j(z,e,!1,e.get_structure_inventory(...A||e.get_selected_inventory()))}function X(A,e,t){var n=document.createElement("div"),r=function(A){switch(A){case"time":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuOWwzfk4AAAIkSURBVEhL5ZUhjipBEIZXQEAgEQgOgUDgIAGBQCI4AJIEBCS4FRyAYyAQSCQCgUAiEAgEAoHgAAjel1e1k6apnp3JZs17n5hMVf3Vf09303w8f5l/2+AzASoNE2fwkQCVhknxBfV6nRF5avwXlYZJsQcMh0GSQV3+B4Pj8TidTqvVajabxYAn72TIqyKWOIPL5dLtdhk0BFU0qg4QNNjtdqVSiVHy+fxgMNhsNvf7nTxP3smQp4oGpbSY2Ab7/b5QKNDfbrdDcyRPFQ1K9Jp9wzBgjuVyWVbg8Xho1tpkqrKG6OX73jEMRqMRPbVazR0dzFOEBiV5ujT1im9wvV5Z3EwmczgcNPWFaQAo0dNFr6YcfIP5fM4ofLjGDq7B7XZjqyUPslD0auzgG8i+LRYLjR0ig+12y6Kzt6fTSUroKdEroYtvINt7Pp81dhCDZrPJgvDCzy2S8UKGIyuhi2+ADjR4ZTKZSBXYUu8ISF4DhxQGw+GQUi6XW61WmnIINfop+fWaSwTr9dospViiVquFdLlcapwM9HTRq7GDbzCbzZD2ej2Nk4GeLno1dvANuGE4JBAdwW9BKS3mrWVsS7/fZzqNRsM7JyZoUKKnS1OvGAbRZcedHO9BFQ3KdJcd8FuV67rT6cRc11TRoESv2TdsA6CnWCxKv/mHIzNAEzM6BA2AOcotFoJq6Psi4gwEbuPxeFypVGTKPHkn836fm3xv8COezz+yLN6gjMn5vQAAAABJRU5ErkJggg==";case"Iron Ore":return d;case"Iron Plate":return h;case"Steel Plate":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuOWwzfk4AAAEtSURBVFhHxZDRDcMgDEQ7d6bJKNkhW2QJmqtkejhXTAClH08yV/C79JVS+isyfBIZjrLvewI+V8hwBJMz/g4jw16UnPH3wSXoQclq8NtiUQ9KUGNd1/PZ932x7C5KUAPyaQWUoIaSg+LQgloeYfJlWc4V5b7iEKGWR7Ac+H+hENRQyyOUvKuAWh7xS36rgFocwaJIDooDo5ZHsKhFDi4BUMsjWNQqB5dALY9g0R05yMO2bek4jg9K8gsW3ZWDPKCA0VqCRT1ykAcu0FKCRb1ycAl8CVWERSNyIEMu4YuwaFQOioN9oS9gsGiGHOTBJL4AFvMMZslBHljKmJDnWXKQBy82TGLimXJQHFQBw0rMlAMZqgJgthzIENQK+LsjyNDDBfxvo8jwSWT4HOn1Bkm5Su+uKD1qAAAAAElFTkSuQmCC";case"Copper Ore":return B;case"Copper Plate":return p;case"Coal Ore":return f;case"Gear":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuOWwzfk4AAAEuSURBVFhH7ZJRjoMwFAN7Vy7CCbgyi1fr6mEmJBVS+rOVpg2TFzsSfe37/lVQzgTlTFDOBOVMUPY4Pvo6kTOjoExqgdbbtp1YluV0ibrugbLiQof6eV3XN/UC3vdzD5TGYS7Sc7p6AZrPzASloCKHti7Qms/sCstGmKG91nz+PxKUQoco8BPqq8l8g9I8ucRIuWD5d9C0CgztZUZ2mKs4lN5ncldAl0g0l13iKg6VhRWXPz1jruL/AofSgUor0FB5Zmguu8RF/MoSLqhAzuSeyIzsMCiNDrYKRuiVC5TiabnpXYLlTbneJ/kWd+9foBQ61Ar71Gd2BaWpoQ67K6L5zExQVhRSw/Rby7NMv6PlAmVSw7R2aSVnvO6BsocKkpwZBeVMUM4E5UxQzmN//QBRFo7Ip273TAAAAABJRU5ErkJggg==";case"Copper Wire":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuOWwzfk4AAAEpSURBVFhHxY/LEQIxDEPpjgZoB+rgzI1CaIYmwuigHUWrZD8Hc3gzsSxbzqW19leiWEkUK4liJVGsJIojvu9HG+HevURR0ZDP8zblzDFRBCnwdb8Oce/eQ6Ko4R7kXoWeI4esBA/33gj1AT/E+6QrsGgWrgsT6RCd8x7oCppn4egl2Ad+yGgv6Ipk9HDUCfrpBdTQd40sD5pSODSGc1EiHcI67QfLgwM0aJiH8yBFe75T92kfdAewuRXOGQW69zmnb59fHoqb0zAXa51m6Dt1gA7gDZ0e9pUUDs2PUbpC8Yu5APoM+jirOncpXeHoIq23oF8PSuFgJThcwJ8cYSscRNHhojPMwkEUR2DZEXw+EcVKolhJFCuJYiVRrCSKlUSxkihWEsU62uUHU4Ok+LM3GzcAAAAASUVORK5CYII=";case"Circuit":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuOWwzfk4AAADtSURBVFhH1ZPBDcIwFEO7B2OwAFd2YICM0Ts7oB7ZgImQWIFTIEiufhMradPWEYd3qJ0fO19q571vChWVUFEJFZVQUQkVlVBRyeTj9r56BTYzKXB5nXbl/Dh+oxoWeN4PP5ApL7B6A3hBCTYbgI/MqgJMt+TOFDeAhjnYxRY2E4PMpAC7cEukfwF7OUBmUoAdXkNcavEG2CWWnM88FEPm7ALDMCRYn4EwS9UGAiGw7/sR59zoxTM5MIPMYgHACrBzJf5vAwgIgTHWn8suf0ENyCwW2JrsBoKpwGZOCrSAikqoqISKSqiohIo6fPcBbqkjlYT+raMAAAAASUVORK5CYII=";case"Transport Belt":return u;case"Splitter":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAABACAYAAAB7jnWuAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwAAADsABataJCQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS41ZEdYUgAAANxJREFUaEPtl8ENwyAQBF06paWCFJAS8kgLGB6WLsf4TB65WPE+RhYr7TECf1hqrXO82mcG6gZgiNBmBHUDMBxog5+POe63XoEZO2A4IAEJSEACTqCU8ra2pAnsSaQKkES6gJe41gnYbCNNwK4tKQIREpCABCQggT8VaPTBM/jeERgStBnhe0dgiLRrmIK6ARgitBlB3QAMB9pg+uGIT68BwwEJSEACEpDA2QR+/jg9xfN8TyJdwEtc6wRstpEmYNeWFIEICUhAAhL4jkCjD57B947AkKDNCN+LqcsKblExmhF4HqUAAAAASUVORK5CYII=";case"Inserter":return c;case"Chest":return l;case"Ore Mine":return a;case"Furnace":return[s,3];case"Assembler":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AAAFhSURBVFhHxZKtTgRBEITnVXAYgiAh5yHBogho5DkMjiAhISdx+DNoXgCN5m2Gq00qqWu6h9nZYVd82Zne7q7vflLOeVHcYi3vn2+5hO33cIu1PGzucgnb7+EWycv2O9+sn/8EYfbO2ursarfK3w/cIlEBLIp43T7t3fH1TxZAOAWwhCIeENC7FShJuEWwqADDrQD/3YTL9SeIBIDNAb8KoCSAxcrR6fkggCdAH99ZgZTSo83auwANjwQYxrPW0Ad01kqoSJPAweHJAD45nlqrFaBEMVyXlASuby+rBYBKNAnsBgcggCcEWJtVQM9kFgGGlNBZS7PAGHTWMlqAC8fAuW4CrUwSuN98TOZfBY6/Lga8d6S7gIZGZ6VZwC4iDIrwZroKAC8YeL2gm0AUGNWVUQLeAhAFRXWliwCxgcTrVboIeMGKN0OqBLxBRYOic4nJAkptqFIUWAK3OCducT5y+gETsfSY+zXBuwAAAABJRU5ErkJggg==";case"Water Well":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTCtCgrAAAABgUlEQVRYR9WSMU7DQBREfSxOwB0i0VLR0URcgBI6TkCRE0CJOA6nWHZWGWv273hjG8sRkV7kP7t/ZuRkSCldFSvuiRX3xIp7YsUe+YMvS7w7Byv2QNDH16FhbREr9pgqQJYWsWJETQHDXt9uK1yR6BWxIqEJeP/+HNECquvZ3BJWBC44hlwqgPlSCS92woGGKPpT8Bn3eyVaYSL86eV5JAaSx+NNgbPuT5WoBxOuwVMFEKrn0PisXrMK6IKaKrGAu6OsKoBnNbl7uB+JBfQM6F701LySWQ1ymQvRfPhJVQG8fmiguWv8NK9kVkNY4FLhHNIrQFw4vTSvZFZDHvHa4iKXGdAUOOVzgHPcy+iu/hyaVzKrIY+8rAaE5qApcNbjDv34VjSvZFZDHrlAoiFhIInn6qH/Cc0rmdWQR11UYsAUbneTAsSFAneXbFpgDVctwPD/UaAIG5dYXKCIG5bohYNGIFjYogh9oj+xovKXIr1gYkUHiywhejisuCdW3I80/AI9iJH60St1kgAAAABJRU5ErkJggg==";case"Boiler":return["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAgCAMAAADaHo1mAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAwUExURQAAAP/ht9i/nKiUeZGAaurPq8avkbymh6+bfvTYsv/s4Id3Yv90AP8AAKXGwwAAACaUNXIAAAAQdFJOU////////////////////wDgI10ZAAAACXBIWXMAAA7CAAAOwgEVKEqAAAABOUlEQVRIS+2W0W7DIAxFMXRdCk35/7/ddeJkQDEqnvZS1VKqlOPeQwFFcblTRHKj1AzvCcj7ILfdmuJ9QbjIbbemeCOgL3/9pkUNmOeVgMBHARZeCohu0nDpBph4JYjgaMAEkgxVZeKFgOI+gUUJsPH3EsgeqQEm/hEU9YLASYNTAiy8FjiHBnxqAQbeCvbSA+7bpfH76txa8zkB/5gVA76yxCw4DCp3a8tnBZjhiAPiD6iCG9gDl3oMkfBAxpBDoB5TnGMIljA459P8FMS4NfA5RkMIbYSVnwKieDwNg/fpKcDKDwGFECJmgQbglHKTYOaFgHsIlRKv4XOAjYuA8KbEa4i1S/ysAuWhs+y8EGTepCuvYT/AxneBfPltKAa5/sArQd5OgfBOgIXXgqo6AVW9xmUP/qty/gHJw4VOenLtlQAAAABJRU5ErkJggg==",3];case"Pipe":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTCtCgrAAAAArUlEQVRYR+3UMQrCQBBA0T2zvY2FF9DGSrCyshC8gWXuFDPKhln47XwtFB6un4WZFLHdn9NXYTRhNGE0YTRhNGE0YTRhNMVn7uhChTwzQgzWF1i+P3PXQ95KgAv0c7X/AsMC59tjDhH7uVqe9VsLHC9XxbBAjvvDSZEftuW42e4U+WFbjqZ1bl5geS3ef5XVhgXiR0eXK+SZeMGE0YTRhNGE0YTRhNGE0YTRM7UXtEJQJt1CmagAAAAASUVORK5CYII=";case"SteamEngine":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTCtCgrAAAABMElEQVRYR+2SsUoDQRRF8zEiiAYrSbuQyiIQEAsxwhowhqRJERsLbWz8A7EQ7FKnFiSNv/XiHXjL5O1dCJv1TREDJwt3Zt89yUxLRJJCw134/eArYNcYNKwLSperXsE2EjSsg5bjqWwjQUNGPFix6/GvB/n4qLTPQsMYDACj2bPcTh/l5v5BroYzuRiMQ64FeKL0fdGVp9dOKN9ZAC9P5i8BJtC7zOW8fx1K3ARWXyclAXB8etasQFyuAihn/4CLAMoVd4Gf7/aGwOLzUD7eDvyPQO8ABJLdAbCfl1CPYH8FUGhxEWDFMckFwJ8J2KLB9K4gzl0EUJplWYGV+BdIegdA4wKASVSRVAD7tLBRAYABVSK6Fu+z4Lh0FoOGDDsY2D11oKEnNPSEhp7Q0A9prQHJES6m2YWbUAAAAABJRU5ErkJggg==";default:return""}}(A);n.style.backgroundImage="url("+(r instanceof Array?r[0]:r)+")";var o=e?32:16;if(n.style.width=o+"px",n.style.height=o+"px",n.style.display="inline-block",n.style.backgroundSize=r instanceof Array?o*r[1]+"px "+o+"px":o+"px "+o+"px",n.setAttribute("draggable","false"),e&&t){var i=document.createElement("span");i.style.position="relative",i.style.display="inline-block",i.style.width=o+"px",i.style.height=o+"px",i.appendChild(n);var g=document.createElement("div");return g.setAttribute("class","overlay noselect"),g.innerHTML=t,i.appendChild(g),i}return n}function j(A,t,n,[r,o]){function i(A){for(var e=0;e<A.children.length;e++){var t=A.children[e];t.style.backgroundColor=t.itemName===o?"#00ffff":""}}for(;A.firstChild;)A.removeChild(A.firstChild);for(var u in r){var l,[a,s]=r[u];if(n)l=X(a,!0,s);else{(l=document.createElement("div")).appendChild(X(a));var c=document.createElement("span");c.innerHTML=s+" "+a,l.appendChild(c),l.style.textAlign="left"}function g(n){R=t,o=n,A===tA?e.select_player_inventory(o):e.select_structure_inventory(o),i(A)}R===t&&o===a&&(l.style.backgroundColor="#00ffff"),l.setAttribute("class","noselect"),l.itemName=a,l.itemAmount=s,l.onclick=function(A){g(this.itemName),A.stopPropagation()},l.setAttribute("draggable","true"),l.ondragstart=function(e){console.log("dragStart"),g(this.itemName),e.dataTransfer.dropEffect="move",e.dataTransfer.setData(Q,JSON.stringify({type:e.target.itemName,fromPlayer:A===tA}))},A.appendChild(l)}}H(),m.ondragover=function(A){for(var e=!1,t=0;t<A.dataTransfer.types.length;t++)A.dataTransfer.types[t].toUpperCase()===Q.toUpperCase()&&(e=!0);e&&(A.preventDefault(),A.dataTransfer.dropEffect="move")},m.ondrop=function(A){A.preventDefault();var t=JSON.parse(A.dataTransfer.getData(Q));t.fromPlayer&&e.move_selected_inventory_item(!t.fromPlayer)&&(W(e.get_player_inventory()),P(),k())},m.style.display="none";const z=document.getElementById("inventory2Content");z.onclick=function(){nA(!1)};const Z=document.getElementById("inventory2CloseButton");Z.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuOWwzfk4AAAC5SURBVDhPjZOBCcMwDAQ1QAbI/qsUAp2glI6RAVy9/DJWLdcOPMivv6d1iOhzqx6qo5QiO0KWDFh5qeBulSDDLA5g5eSwLMGOGYdPXyxL4HHXYPO7wLQEM70A284HBocSKoWN6Q9mxJKLSmHL/xpm1pK3CgcI8wBbNjXrz36qvABz+nZGI/7nD4U5XGzLh0NyYVS42MD8g7vdtGQJt+CkBM8SdmHHTCtR7cEuZJj1Evskt2AXspWR+wvSarauCIhRAAAAAABJRU5ErkJggg==)",Z.addEventListener("click",(function(){m.style.display="none"}));var q=[],_=document.getElementById("inventory2Title");function $(A){var e=q.indexOf(A);if(0<=e&&e<q.length-1){q.splice(e,1),q.push(A);for(var t=0;t<q.length;t++)q[t].style.zIndex=t+1e3}document.getElementById("mousecaptor").style.zIndex=t+1e3}function AA(A){var e=document.getElementById("container2").getBoundingClientRect();A.style.left=(e.left+e.right)/2+"px",A.style.top=(e.top+e.bottom)/2+"px"}AA(m),q.push(m),_.addEventListener("mousedown",(function(A){!function(A,e,t){t=[A.screenX,A.screenY],$(e);var n=document.getElementById("mousecaptor");function r(A){if(t){var n=document.getElementById("container2").getBoundingClientRect(),r=[A.screenX-t[0],A.screenY-t[1]];t=[A.screenX,A.screenY];e.getBoundingClientRect();var o=""!==e.style.left?parseInt(e.style.left):(n.left+n.right)/2,i=""!==e.style.top?parseInt(e.style.top):(n.top+n.bottom)/2;e.style.left=o+r[0]+"px",e.style.top=i+r[1]+"px"}}n.style.display="block",n.addEventListener("mousemove",r),n.addEventListener("mouseup",(function(A){e=null,this.removeEventListener("mousemove",r),this.style.display="none"}))}(A,m,null)})),AA(m),q.push(m);const eA=document.createElement("div");eA.style.overflow="visible",eA.style.borderStyle="solid",eA.style.borderWidth="1px",eA.style.border="1px solid #00f",eA.style.backgroundColor="#ffff7f",eA.style.position="relative",eA.style.margin="3px",eA.style.left="50%",eA.style.width="320px",eA.style.height="160px",w.appendChild(eA),eA.style.marginLeft=-(eA.getBoundingClientRect().width+200+10)/2+"px";const tA=document.createElement("div");function nA(A){null!==e.get_selected_inventory()&&e.move_selected_inventory_item(A)&&(W(e.get_player_inventory()),P(),k())}function rA(A){var t,n;if(A)for(let r of A)if("updateStructureInventory"===r[0]&&(console.log("updateStructureInventory event received"),k([r[1],r[2]])),"updatePlayerInventory"===r[0])console.log("updatePlayerInventory event received"),W(e.get_player_inventory()),P();else if("showInventory"===r[0]){const[A,o,i]=r;t=o,n=i,"none"===m.style.display?(m.style.display="block",$(m),j(z,e,!1,e.get_structure_inventory(t,n))):m.style.display="none"}}tA.style.position="relative",tA.style.overflowY="scroll",tA.style.width="100%",tA.style.height="100%",tA.style.textAlign="left",tA.ondragover=function(A){for(var e=!1,t=0;t<A.dataTransfer.types.length;t++)A.dataTransfer.types[t].toUpperCase()===Q.toUpperCase()&&(e=!0);e&&(A.preventDefault(),A.dataTransfer.dropEffect="move")},tA.ondrop=function(A){A.preventDefault();var t=JSON.parse(A.dataTransfer.getData(Q));t.fromPlayer||e.move_selected_inventory_item(!t.fromPlayer)&&(W(e.get_player_inventory()),P(),k())},tA.onclick=function(){nA(!0)},eA.appendChild(tA),t.addEventListener("mousedown",(function(A){return rA(e.mouse_down([A.offsetX,A.offsetY],A.button)),A.stopPropagation(),A.preventDefault(),!1})),t.addEventListener("contextmenu",(function(A){A.preventDefault()})),t.addEventListener("mousemove",(function(A){e.mouse_move([A.offsetX,A.offsetY])})),t.addEventListener("mouseleave",(function(A){e.mouse_leave([A.offsetX,A.offsetY])})),window.addEventListener("keydown",(function(A){e.on_key_down(A.keyCode)&&H()}),!1),P(),W(e.get_player_inventory()),window.setInterval((function(){rA(e.simulate(.05));e.render(E)}),50)}()},function(A,e,t){"use strict";(function(A,n){t.d(e,"a",(function(){return U})),t.d(e,"O",(function(){return m})),t.d(e,"K",(function(){return y})),t.d(e,"M",(function(){return R})),t.d(e,"b",(function(){return Q})),t.d(e,"p",(function(){return I})),t.d(e,"J",(function(){return S})),t.d(e,"n",(function(){return D})),t.d(e,"m",(function(){return Y})),t.d(e,"B",(function(){return F})),t.d(e,"A",(function(){return b})),t.d(e,"D",(function(){return x})),t.d(e,"C",(function(){return N})),t.d(e,"g",(function(){return G})),t.d(e,"f",(function(){return O})),t.d(e,"e",(function(){return V})),t.d(e,"E",(function(){return J})),t.d(e,"w",(function(){return L})),t.d(e,"y",(function(){return M})),t.d(e,"x",(function(){return K})),t.d(e,"F",(function(){return T})),t.d(e,"G",(function(){return H})),t.d(e,"l",(function(){return P})),t.d(e,"i",(function(){return W})),t.d(e,"o",(function(){return k})),t.d(e,"q",(function(){return X})),t.d(e,"h",(function(){return j})),t.d(e,"s",(function(){return z})),t.d(e,"u",(function(){return Z})),t.d(e,"t",(function(){return q})),t.d(e,"v",(function(){return _})),t.d(e,"r",(function(){return $})),t.d(e,"c",(function(){return AA})),t.d(e,"d",(function(){return eA})),t.d(e,"z",(function(){return tA})),t.d(e,"H",(function(){return nA})),t.d(e,"j",(function(){return rA})),t.d(e,"k",(function(){return oA})),t.d(e,"I",(function(){return iA})),t.d(e,"L",(function(){return uA})),t.d(e,"P",(function(){return lA})),t.d(e,"N",(function(){return aA}));var r=t(5);let o=new("undefined"==typeof TextDecoder?(0,A.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});o.decode();let i=null;function u(){return null!==i&&i.buffer===r.A.buffer||(i=new Uint8Array(r.A.buffer)),i}function l(A,e){return o.decode(u().subarray(A,A+e))}const a=new Array(32).fill(void 0);a.push(void 0,null,!0,!1);let s=a.length;function c(A){s===a.length&&a.push(a.length+1);const e=s;return s=a[e],a[e]=A,e}function g(A){return a[A]}function d(A){const e=g(A);return function(A){A<36||(a[A]=s,s=A)}(A),e}let f=0;let B=new("undefined"==typeof TextEncoder?(0,A.require)("util").TextEncoder:TextEncoder)("utf-8");const h="function"==typeof B.encodeInto?function(A,e){return B.encodeInto(A,e)}:function(A,e){const t=B.encode(A);return e.set(t),{read:A.length,written:t.length}};function p(A,e,t){if(void 0===t){const t=B.encode(A),n=e(t.length);return u().subarray(n,n+t.length).set(t),f=t.length,n}let n=A.length,r=e(n);const o=u();let i=0;for(;i<n;i++){const e=A.charCodeAt(i);if(e>127)break;o[r+i]=e}if(i!==n){0!==i&&(A=A.slice(i)),r=t(r,n,n=i+3*A.length);const e=u().subarray(r+i,r+n);i+=h(A,e).written}return f=i,r}let C=null;function v(A,e){const t=e(8*A.length);return(null!==C&&C.buffer===r.A.buffer||(C=new Float64Array(r.A.buffer)),C).set(A,t/8),f=A.length,t}let E=32;function w(A){return function(){try{return A.apply(this,arguments)}catch(A){r.b(c(A))}}}class U{static __wrap(A){const e=Object.create(U.prototype);return e.ptr=A,e}free(){const A=this.ptr;this.ptr=0,r.a(A)}constructor(A){var e=r.l(c(A));return U.__wrap(e)}simulate(A){return d(r.w(this.ptr,A))}get_player_inventory(){return d(r.e(this.ptr))}select_player_inventory(A){var e=p(A,r.c,r.d),t=f;r.s(this.ptr,e,t)}open_structure_inventory(A,e){r.n(this.ptr,A,e)}get_selected_inventory(){return d(r.f(this.ptr))}get_structure_inventory(A,e){return d(r.g(this.ptr,A,e))}select_structure_inventory(A){var e=p(A,r.c,r.d),t=f;r.t(this.ptr,e,t)}move_selected_inventory_item(A){return 0!==r.k(this.ptr,A)}mouse_down(A,e){var t=v(A,r.c),n=f;return d(r.h(this.ptr,t,n,e))}mouse_move(A){var e=v(A,r.c),t=f;r.j(this.ptr,e,t)}mouse_leave(){r.i(this.ptr)}on_key_down(A){return 0!==r.m(this.ptr,A)}render_init(A,e,t){r.p(this.ptr,c(A),c(e),c(t))}tool_defs(){return d(r.x(this.ptr))}selected_tool(){return d(r.v(this.ptr))}render_tool(A,e){try{r.q(this.ptr,A,function(A){if(1==E)throw new Error("out of js stack");return a[--E]=A,E}(e))}finally{a[E++]=void 0}}select_tool(A){return 0!==r.u(this.ptr,A)}rotate_tool(){return r.r(this.ptr)}tool_inventory(){return d(r.y(this.ptr))}render(A){r.o(this.ptr,c(A))}}const m=function(A,e){return c(l(A,e))},y=function(A){return c(A)},R=function(A){d(A)},Q=function(A,e){alert(l(A,e))},I=function(A,e){console.log(l(A,e))},S=function(A,e){return g(A)===g(e)},D=function(A){return g(A)instanceof Window},Y=function(A){return g(A)instanceof ImageBitmap},F=function(A,e,t){g(A).innerHTML=l(e,t)},b=function(A,e){g(A).globalAlpha=e},x=function(A,e){g(A).strokeStyle=g(e)},N=function(A,e){g(A).lineWidth=e},G=w((function(A,e,t,n){g(A).drawImage(g(e),t,n)})),O=w((function(A,e,t,n,r,o,i,u,l,a){g(A).drawImage(g(e),t,n,r,o,i,u,l,a)})),V=function(A,e,t,n,r){g(A).clearRect(e,t,n,r)},J=function(A,e,t,n,r){g(A).strokeRect(e,t,n,r)},L=function(A){g(A).restore()},M=function(A){g(A).save()},K=w((function(A,e){g(A).rotate(e)})),T=w((function(A,e,t){g(A).translate(e,t)})),H=function(A){return g(A).width},P=function(A){return g(A).height},W=function(A,e){return c(g(A)[e>>>0])},k=function(A){return g(A).length},X=function(){return c(new Array)},j=function(A){return c(Array.from(g(A)))},z=function(A){return c(Array.of(g(A)))},Z=function(A,e){return c(Array.of(g(A),g(e)))},q=function(A,e,t){return c(Array.of(g(A),g(e),g(t)))},_=function(A,e){return g(A).push(g(e))},$=function(A,e){return c(new Function(l(A,e)))},AA=w((function(A,e){return c(g(A).call(g(e)))})),eA=w((function(A,e,t){return c(g(A).call(g(e),g(t)))})),tA=w((function(){return c(self.self)})),nA=w((function(){return c(window.window)})),rA=w((function(){return c(globalThis.globalThis)})),oA=w((function(){return c(n.global)})),iA=function(A){return void 0===g(A)},uA=function(A){return c(g(A))},lA=function(A,e){throw new Error(l(A,e))},aA=function(A){throw d(A)}}).call(this,t(3)(A),t(4))},function(A,e){A.exports=function(A){if(!A.webpackPolyfill){var e=Object.create(A);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(A,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(A){"object"==typeof window&&(t=window)}A.exports=t},function(A,e,t){"use strict";var n=t.w[A.i];A.exports=n;t(2);n.B()}]]);